<!--
  Component presenting all the details of a scroll
  Input is the index of the scroll
-->
<script setup lang="ts">
import ScrollUtils, { type Scroll, type ScrollType } from "@/services/ScrollUtils";
import { computed } from 'vue';


const props = defineProps<{
  index: number
}>()

const scroll: Scroll = ScrollUtils.getScrolls()[props.index];

// Dynamically construct the image URL; necessary to work with vite once bundled.
const imgPath = computed(() => {
  return new URL(`../assets/scroll-images/${scroll.imgTitle}`, import.meta.url).href;
});

const color = `var(--color-scroll-${scroll.type})`;

</script>

<template>
  <h1>{{ scroll.name }}</h1>
  <p class="type">{{ scroll.type }}</p>
  <img :src="imgPath" :alt="scroll.name" width="80%" />
  <p>{{ scroll.desc }}</p>
  <p v-if="scroll.descEnhanced"><br><em>Enhanced:</em> {{ scroll.descEnhanced }}</p>
</template>

<style scoped>

  h1, p {
    text-align: center;
  }

  p.type::first-letter {
    text-transform: uppercase;
  }

  p.type {
    color: v-bind('color')
  }

  img {
    display: block;
    margin: 0 auto;
  }

  em {
    font-weight: bold;
    color: var(--color-enhanced);
  }

</style>